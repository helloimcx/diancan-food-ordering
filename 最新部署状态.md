# ğŸš¨ æœ€æ–°éƒ¨ç½²çŠ¶æ€ - SSHè®¤è¯å¤±è´¥

## ğŸ“Š å½“å‰é—®é¢˜è¯Šæ–­

### âŒ GitHub Actionså¤±è´¥æ—¥å¿—åˆ†æ
```
é”™è¯¯1: ssh.ParsePrivateKey: ssh: no key found
é”™è¯¯2: ssh: handshake failed: ssh: unable to authenticate, attempted methods [none], no supported methods remain
```

### ğŸ” é—®é¢˜æ ¹æº
**SSHç§é’¥é…ç½®é—®é¢˜** - GitHub Secretsä¸­çš„ALICLOUD_PRIVATE_KEYæ ¼å¼ä¸æ­£ç¡®æˆ–ç¼ºå¤±

## ğŸ¯ ç«‹å³è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: Railwayå¿«é€Ÿéƒ¨ç½² (æ¨èï¼Œç«‹å³å¯ç”¨)

å¦‚æœç­‰å¾…é˜¿é‡Œäº‘é…ç½®è°ƒè¯•ï¼Œå¯ä»¥å…ˆä½¿ç”¨Railwayéƒ¨ç½²ï¼š

```bash
./railway-deploy.sh
```

**ä¼˜åŠ¿**: 5åˆ†é’Ÿå†…å®Œæˆï¼Œæ— éœ€å¤æ‚çš„SSHé…ç½®
**å½“å‰çŠ¶æ€**: æ‰€æœ‰ä¾èµ–å·²å°±ç»ªï¼Œå¯ç«‹å³æ‰§è¡Œ

### æ–¹æ¡ˆ2: ä¿®å¤é˜¿é‡Œäº‘SSHé…ç½®

#### æ­¥éª¤1: ç”Ÿæˆæ­£ç¡®çš„SSHå¯†é’¥
```bash
./generate-ssh-key.sh
```

#### æ­¥éª¤2: é…ç½®GitHub Secrets
è®¿é—® `https://github.com/helloimcx/diancan-food-ordering/settings/secrets/actions`

**å…³é”®æ³¨æ„**: ç§é’¥æ ¼å¼å¿…é¡»å®Œæ•´ï¼ŒåŒ…å« `-----BEGIN RSA PRIVATE KEY-----` å’Œ `-----END RSA PRIVATE KEY-----`

#### æ­¥éª¤3: æœåŠ¡å™¨åˆå§‹åŒ–
```bash
scp server-setup.sh root@YOUR_SERVER_IP:/root/
ssh root@YOUR_SERVER_IP
./server-setup.sh
```

## ğŸ”§ SSHå¯†é’¥é…ç½®æŒ‡å—

### æ­£ç¡®æ ¼å¼ç¤ºä¾‹
```
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEA....[å®Œæ•´ç§é’¥å†…å®¹]....zA==
-----END RSA PRIVATE KEY-----
```

### éªŒè¯æ­¥éª¤
1. **ç”Ÿæˆå¯†é’¥**: `./generate-ssh-key.sh`
2. **æµ‹è¯•è¿æ¥**: `ssh -i ~/.ssh/id_rsa root@YOUR_SERVER_IP`
3. **å¤åˆ¶ç§é’¥**: ç¡®ä¿åŒ…å«å®Œæ•´çš„BEGINå’ŒENDæ ‡è®°

## ğŸ†˜ ç´§æ€¥æ–¹æ¡ˆ: ç«‹å³ä½¿ç”¨Railway

è€ƒè™‘åˆ°SSHé…ç½®è°ƒè¯•å¯èƒ½éœ€è¦æ—¶é—´ï¼Œå»ºè®®ç«‹å³ä½¿ç”¨Railwayæ–¹æ¡ˆï¼š

### Railwayéƒ¨ç½²æ­¥éª¤ (5åˆ†é’Ÿ)
```bash
# 1. å®‰è£…Railway CLI
npm install -g @railway/cli

# 2. ç™»å½•Railway
railway login

# 3. éƒ¨ç½²
cd server
railway init
railway up

# 4. è·å–APIåœ°å€
railway domain
```

### è·å–APIåæ›´æ–°å‰ç«¯
åœ¨Vercelé¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
```
VITE_API_URL=https://your-railway-app.railway.app/api
```

## ğŸ“‹ å½“å‰éƒ¨ç½²çŠ¶æ€å¯¹æ¯”

| æ–¹æ¡ˆ | æ—¶é—´ | éš¾åº¦ | ç¨³å®šæ€§ | æ¨èåº¦ |
|------|------|------|--------|---------|
| Railway | 5åˆ†é’Ÿ | â­ | âœ… ç¨³å®š | â­â­â­â­â­ |
| é˜¿é‡Œäº‘Docker | 30åˆ†é’Ÿ | â­â­â­ | éœ€è¦è°ƒè¯• | â­â­â­ |

## ğŸš€ å»ºè®®æ“ä½œ

### ç«‹å³æ‰§è¡Œ (æ¨è)
```bash
./railway-deploy.sh
```

### å¹¶è¡Œå‡†å¤‡é˜¿é‡Œäº‘
```bash
# ç”ŸæˆSSHå¯†é’¥å¤‡ç”¨
./generate-ssh-key.sh
```

## ğŸ“ æ•…éšœæ’é™¤

### å¦‚æœRailwayéƒ¨ç½²æˆåŠŸ
1. äº«å—å®Œæ•´çš„ç‚¹é¤åº”ç”¨åŠŸèƒ½
2. åç»­å¯ä»¥è¿ç§»åˆ°é˜¿é‡Œäº‘
3. æ•°æ®ä¼šè‡ªåŠ¨æŒä¹…åŒ–

### å¦‚æœç»§ç»­ä½¿ç”¨é˜¿é‡Œäº‘
1. ç¡®ä¿SSHå¯†é’¥æ ¼å¼æ­£ç¡®
2. æœåŠ¡å™¨å·²è¿è¡Œåˆå§‹åŒ–è„šæœ¬
3. é˜¿é‡Œäº‘å®‰å…¨ç»„å·²é…ç½®

## ğŸ”„ è‡ªåŠ¨åŒ–æ¯”è¾ƒ

### Railwayæµç¨‹
```
æœ¬åœ° â†’ Railway CLI â†’ Railwayäº‘å¹³å° â†’ ç«‹å³å¯ç”¨
```

### é˜¿é‡Œäº‘æµç¨‹  
```
æœ¬åœ° â†’ GitHub Actions â†’ GitHub Container Registry â†’ é˜¿é‡Œäº‘æœåŠ¡å™¨ â†’ éœ€è¦è°ƒè¯•SSH
```

## ğŸ“ ç»“è®º

**æ¨èç­–ç•¥**: 
1. **ç«‹å³**ä½¿ç”¨Railwayè·å¾—å®Œæ•´åŠŸèƒ½
2. **å¹¶è¡Œ**è°ƒè¯•é˜¿é‡Œäº‘é…ç½®
3. **åç»­**æ ¹æ®éœ€è¦è¿ç§»åˆ°è‡ªæœ‰æœåŠ¡å™¨

**æ—¶é—´ä»·å€¼**: Railwayæ–¹æ¡ˆ5åˆ†é’Ÿå³å¯ä½¿ç”¨å®Œæ•´åŠŸèƒ½ï¼Œé˜¿é‡Œäº‘æ–¹æ¡ˆéœ€è¦30åˆ†é’Ÿ+è°ƒè¯•æ—¶é—´

---
**ç«‹å³è¡ŒåŠ¨**: è¿è¡Œ `./railway-deploy.sh` å¼€å§‹5åˆ†é’Ÿéƒ¨ç½²ï¼