# 💕 家庭点餐系统

一个温馨可爱的家庭点餐应用，专为给老婆点餐而设计！现已支持服务器部署和数据库持久化。

## ✨ 特性

- 🍽️ **精美菜单界面** - 分类浏览各种美食，支持图片展示
- 🛒 **智能购物车** - 轻松添加/删除食物，实时计算总价  
- 📝 **历史记录** - 自动记录吃过的美食，便于回顾
- ❤️ **收藏夹** - 标记喜爱的食物，快速重复下单
- ⚡ **一键下单** - 简化下单流程，模拟真实点餐体验
- 🔧 **菜品管理** - 完整的菜品增删改查功能，支持图片上传
- 📱 **响应式设计** - 支持手机、平板、电脑访问
- 💾 **数据持久化** - 服务器部署，数据库存储，数据永不丢失

## 🛠️ 技术栈

### 前端
- React 18 + TypeScript
- Bootstrap CSS + Material Design
- Vite构建工具

### 后端  
- Node.js + Express.js
- SQLite3数据库
- RESTful API设计

## 🚀 快速部署

### 方式一：一键部署（推荐）
```bash
chmod +x deploy.sh
./deploy.sh
```

### 方式二：分步部署

1. **启动后端服务**
```bash
cd server
npm install
npm run init-db  # 初始化数据库
npm start        # 启动后端服务 (端口3001)
```

2. **启动前端开发**
```bash
npm install      # 安装前端依赖
npm run dev      # 开发模式 (端口5173)
```

3. **生产构建**
```bash
npm run build    # 构建生产版本
```

## 📁 项目结构

```
diancan/
├── src/                 # 前端源码
│   ├── App.tsx         # 主应用组件
│   ├── api.js          # API服务层
│   └── components/     # UI组件
├── server/             # 后端服务
│   ├── server.js       # Express服务器
│   ├── database.js     # 数据库初始化
│   └── package.json    # 后端依赖
├── dist/               # 前端构建输出
├── deploy.sh           # 部署脚本
├── DEPLOYMENT.md       # 详细部署文档
└── README.md           # 项目说明
```

## 🔧 API接口

### 菜品管理
- `GET /api/foods` - 获取菜品列表
- `POST /api/foods` - 新增菜品
- `PUT /api/foods/:id` - 更新菜品
- `DELETE /api/foods/:id` - 删除菜品

### 订单管理
- `GET /api/orders` - 获取订单列表
- `POST /api/orders` - 创建订单
- `PUT /api/orders/:id/status` - 更新订单状态

### 收藏管理
- `GET /api/favorites` - 获取收藏列表
- `POST /api/favorites` - 添加收藏
- `DELETE /api/favorites/:food_id` - 取消收藏

## 🌐 生产环境

支持多种部署方式：
- **Nginx反向代理** - 前后端统一域名
- **PM2进程管理** - 后端服务管理
- **Docker容器化** - 一键部署
- **云服务器部署** - VPS/云主机

详细部署文档请参考：[DEPLOYMENT.md](DEPLOYMENT.md)

## 💾 数据持久化

- **SQLite数据库** - 轻量级，无需额外配置
- **自动备份** - 支持数据导入导出
- **跨会话保持** - 关闭浏览器后数据依然保留

## 📱 使用说明

1. **浏览菜单** - 在"美食菜单"页面浏览各类美食
2. **添加到购物车** - 点击"加入购物车"按钮
3. **管理购物车** - 在"购物车"页面调整数量和下单
4. **收藏美食** - 点击❤️按钮收藏喜欢的食物
5. **查看历史** - 在"历史订单"页面回顾点餐记录
6. **管理菜品** - 在"菜品管理"页面新增、编辑、删除菜品

## 💝 设计理念

这个应用体现了对家庭的关爱，用技术为生活增添便利和温馨。每一个细节都为了让点餐变得更加简单愉快。

现在支持服务器部署，数据永久保存，让老婆随时随地都能点到心仪的美食！

---

**开发完成日期**: 2025年11月22日  
**作者**: 心流CLI ❤️